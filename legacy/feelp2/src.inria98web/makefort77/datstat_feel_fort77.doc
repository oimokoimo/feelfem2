feel fort77 プログラムのデータ管理

----------------------------------------------------------------------------
 COMMON ブロックの説明  

 名前なしcommon block      配列feel用

 [feel_geo]  ndim        空間次元
             npmax       総節点数
領域に関する nelemg      要素グループの数
COMMON       nodeset     節点集合の数(ディリクレ条件等に用いる)
             numset      数値データ集合の数(節点集合とペア)
         
 [feel_ctl]  mode_ex     解析モード(1 入力データcheckのみ、2 解析実行)
             mode_output 出力モード(これは未定だけど、出力量の抑制を行う)
             idble_word  倍精度と単精度とのワード差
             max_heap    feel変数の最大使用値
             timelog     経過時間ログ 
         
 [feel_var]  nvars_fem   fem変数の総数
             nvars_ewise ewise変数の総数
             np_fem      feel変数中、fem変数の開始位置     
             np_ewise    feel変数中、ewise変数の開始位置     
             np_work     feel変数中、fem変数の開始位置     
             np_heap     feel変数の配列の大きさ(np_heap = MAX_FEEL と設定)
       
 [feel_fil]  io_in       データファイルのユニット番号
             io_out      出力データファイル番号
             io_elem     要素データの基準ファイルユニット番号
             io_node     節点値データの基準ファイルユニット番号
             io_num      数値データの基準ファイルユニット番号
             io_stderr   標準エラー出力のファイルユニット番号

 [feel_dat]  n_elem(*)   各要素グループの要素数
             n_node(*)   各節点集合データの節点数
             n_num(*)    各数値データに対応する節点集合データ番号
             n_ewise(*,1)   各ewise変数の要素内節点数
             n_ewise(*,2)   各ewise変数に関連する要素グループの数
             n_ewise(*,3〜) 各ewise変数に関連する要素グループ番号
----------------------------------------------------------------------------

配列feelのメモリマップ

1) 節点のx,y,z座標

2) FEM変数領域

3) システムfem変数(エルミート要素の場合)

4) EWISE変数 

5) システムewise変数(節点なし自由度,内部節点自由度の場合)

※システムfem,ewise変数とも、データ的には通常のものと同様に与えられる。
----------------------------------------------------------------------------

入力ファイルdata構造

１行目 (5I8)
次元、節点数、要素グループ数,節点集合数、数値データグループ数

２行目 (2I8)
fem変数の数、ewise変数の数

３行目〜 (各ewise変数に関する情報) (12I5) 
各ewise変数に対して、
ewise変数の要素毎(最大)節点数,関連する領域名の数,領域番号データ
(※要素グループ毎の解析に利用)

【節点データ】
NODE で始まる行がスタート
(I8,？F10.5) 節点番号,x{,y{,z}}座標データ
０のデータで終了(総節点数はnpmaxで既に読み込まれている)

【要素データ】
ELEM で始まる行がスタート
(4I8)  要素グループ番号、要素数、要素内節点数、節点なし自由度数
(？I8) 各節点毎の自由度
(？I8) 要素データ、MATNO(材料番号＝部分領域番号)

【節点集合データ】
NSET で始まる行がスタート
(2I8) 節点集合番号、節点数
((8I8)) 節点集合データ

【数値集合データ】
NUM  で始まる行がスタート
(2I8) 数値集合データ番号、対応する節点集合データ(※NSETの定義が先にないと駄目)


==============================================================================
feel言語との対応

ある要素番号に対してがdomainが一意に定まる。
この一意に定まるdomain毎にewise変数が定まる。

現在異なるdomain間に共通部分集合がある場合は想定していない。


ewise変数に関する覚え書き

ewiseは、各domain毎に定まります。各domainは要素番号という一意な
番号を保持します。要素番号は要素データの通し番号になります。

  domain  =   ewise  one of   elem   
   
